[tox]
envlist = flake8, coverage

[testenv:flake8]
deps = flake8
commands = flake8 setup.py viewcraft tests

[testenv:unittest]
deps = .[tests]
commands = python setup.py test

[testenv:coverage]
deps = coverage
       .[tests]
commands = coverage erase
	 coverage run --source=viewcraft --omit='*templates*,*cli*' setup.py test
	 coverage report

[py37:flake8]
deps = flake8
commands = flake8 setup.py viewcraft tests

[py37:unittest]
deps = .[tests]
commands = python setup.py test

[py37:coverage]
deps = coverage
       .[tests]
commands = coverage erase
	 coverage run --source=viewcraft --omit='*templates*,*cli*' setup.py test
	 coverage report

[flake8]
max-line-length = 160
exclude = tests/*
max-complexity = 20
ignore = E722

